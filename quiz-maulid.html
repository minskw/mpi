<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ JEOPARDY MAULID NABI üéØ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Nunito:wght@400;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #1a237e 0%, #3949ab 50%, #5c6bc0 100%);
            min-height: 100vh;
            color: white;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .jeopardy-header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #0d47a1, #1976d2);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border: 3px solid #ffd700;
        }

        .jeopardy-logo {
            font-family: 'Fredoka One', cursive;
            font-size: 3.5rem;
            color: #ffd700;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            margin-bottom: 10px;
            letter-spacing: 3px;
        }

        .jeopardy-subtitle {
            font-size: 1.4rem;
            color: white;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* Scoreboard */
        .scoreboard {
            background: linear-gradient(135deg, #0d47a1, #1565c0);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border: 2px solid #ffd700;
        }

        .scoreboard-title {
            text-align: center;
            font-family: 'Fredoka One', cursive;
            font-size: 1.8rem;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .teams-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .team-score-card {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border: 3px solid transparent;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .team-score-card.active {
            border-color: #ffd700;
            background: linear-gradient(135deg, #ffd700, #ffeb3b);
            color: #0d47a1;
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(255,215,0,0.4);
        }

        .team-name {
            font-family: 'Fredoka One', cursive;
            font-size: 1.3rem;
            margin-bottom: 10px;
        }

        .team-score {
            font-family: 'Fredoka One', cursive;
            font-size: 2.5rem;
            font-weight: 900;
        }

        /* Jeopardy Board */
        .jeopardy-board {
            background: linear-gradient(135deg, #0d47a1, #1565c0);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            border: 3px solid #ffd700;
            margin-bottom: 30px;
        }

        .categories-header {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        .category-title {
            background: linear-gradient(135deg, #ffd700, #ffeb3b);
            color: #0d47a1;
            padding: 20px 10px;
            text-align: center;
            font-family: 'Fredoka One', cursive;
            font-size: 1.1rem;
            font-weight: 900;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 2px solid #0d47a1;
        }

        .questions-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        .question-tile {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            color: #ffd700;
            border: 3px solid #ffd700;
            border-radius: 8px;
            padding: 25px 15px;
            text-align: center;
            font-family: 'Fredoka One', cursive;
            font-size: 2rem;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .question-tile:hover {
            transform: scale(1.05);
            background: linear-gradient(135deg, #ffd700, #ffeb3b);
            color: #0d47a1;
            box-shadow: 0 10px 30px rgba(255,215,0,0.5);
        }

        .question-tile.answered {
            background: linear-gradient(135deg, #424242, #616161);
            color: #9e9e9e;
            cursor: not-allowed;
            border-color: #616161;
        }

        .question-tile.answered:hover {
            transform: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        /* Question Modal */
        .question-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .question-content {
            background: linear-gradient(135deg, #0d47a1, #1565c0);
            border: 5px solid #ffd700;
            border-radius: 20px;
            padding: 50px;
            max-width: 90vw;
            max-height: 90vh;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: scale(0.8) translateY(-50px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
        }

        .question-info {
            background: #ffd700;
            color: #0d47a1;
            padding: 15px 25px;
            border-radius: 25px;
            font-family: 'Fredoka One', cursive;
            font-size: 1.5rem;
            font-weight: 900;
        }

        .timer-display {
            background: linear-gradient(135deg, #ff5722, #f44336);
            color: white;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Fredoka One', cursive;
            font-size: 2rem;
            font-weight: 900;
            border: 4px solid white;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .timer-display.warning {
            background: linear-gradient(135deg, #ff1744, #d50000);
            animation: shake 0.5s infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .question-text {
            font-family: 'Fredoka One', cursive;
            font-size: 3rem;
            color: #ffd700;
            margin-bottom: 50px;
            line-height: 1.3;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .answer-option {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            color: white;
            border: 3px solid #ffd700;
            border-radius: 15px;
            padding: 30px 20px;
            font-size: 1.5rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .answer-option:hover {
            background: linear-gradient(135deg, #ffd700, #ffeb3b);
            color: #0d47a1;
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(255,215,0,0.4);
        }

        .answer-option.correct {
            background: linear-gradient(135deg, #4caf50, #388e3c) !important;
            border-color: white !important;
            animation: correctPulse 0.6s ease 3;
        }

        .answer-option.wrong {
            background: linear-gradient(135deg, #f44336, #d32f2f) !important;
            border-color: white !important;
            animation: wrongShake 0.6s ease 2;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Setup Screen */
        .setup-screen {
            background: linear-gradient(135deg, rgba(13,71,161,0.95), rgba(21,101,192,0.95));
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            border: 3px solid #ffd700;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }

        .setup-title {
            font-family: 'Fredoka One', cursive;
            font-size: 3rem;
            color: #ffd700;
            margin-bottom: 30px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
        }

        .team-setup {
            margin: 40px 0;
        }

        .team-count-selector {
            background: rgba(255,215,0,0.1);
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .team-count-selector label {
            font-family: 'Fredoka One', cursive;
            font-size: 1.5rem;
            color: #ffd700;
            margin-right: 20px;
        }

        .team-count-selector select {
            padding: 12px 20px;
            font-size: 1.2rem;
            border: none;
            border-radius: 10px;
            background: #ffd700;
            color: #0d47a1;
            font-weight: 800;
            cursor: pointer;
        }

        .teams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .team-input-card {
            background: rgba(255,215,0,0.1);
            border: 2px solid #ffd700;
            border-radius: 15px;
            padding: 25px;
        }

        .team-input-card h3 {
            font-family: 'Fredoka One', cursive;
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .team-input {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            text-align: center;
            font-weight: 700;
            background: white;
            color: #0d47a1;
        }

        .jeopardy-btn {
            background: linear-gradient(135deg, #ffd700, #ffeb3b);
            color: #0d47a1;
            border: none;
            padding: 20px 40px;
            border-radius: 25px;
            font-family: 'Fredoka One', cursive;
            font-size: 1.4rem;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255,215,0,0.3);
            border: 3px solid #0d47a1;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin: 10px;
        }

        .jeopardy-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255,215,0,0.5);
            background: linear-gradient(135deg, #ffeb3b, #ffd700);
        }

        .jeopardy-btn.secondary {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            color: white;
            border-color: #ffd700;
        }

        .jeopardy-btn.secondary:hover {
            background: linear-gradient(135deg, #1565c0, #1976d2);
        }

        /* Results Screen */
        .results-screen {
            background: linear-gradient(135deg, rgba(13,71,161,0.95), rgba(21,101,192,0.95));
            border-radius: 20px;
            padding: 50px;
            text-align: center;
            border: 3px solid #ffd700;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }

        .winner-announcement {
            margin-bottom: 40px;
        }

        .winner-title {
            font-family: 'Fredoka One', cursive;
            font-size: 4rem;
            color: #ffd700;
            margin-bottom: 20px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            animation: winnerGlow 2s ease-in-out infinite;
        }

        @keyframes winnerGlow {
            0%, 100% { text-shadow: 3px 3px 6px rgba(0,0,0,0.5); }
            50% { text-shadow: 0 0 20px #ffd700, 3px 3px 6px rgba(0,0,0,0.5); }
        }

        .final-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .final-score-card {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            border: 3px solid #ffd700;
            border-radius: 15px;
            padding: 30px;
            color: white;
        }

        .final-score-card.winner {
            background: linear-gradient(135deg, #ffd700, #ffeb3b);
            color: #0d47a1;
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(255,215,0,0.5);
        }

        .final-team-name {
            font-family: 'Fredoka One', cursive;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .final-team-score {
            font-family: 'Fredoka One', cursive;
            font-size: 3rem;
            font-weight: 900;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .jeopardy-logo {
                font-size: 2.5rem;
            }
            
            .categories-header,
            .questions-board {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .category-title {
                font-size: 0.9rem;
                padding: 15px 8px;
            }
            
            .question-tile {
                font-size: 1.5rem;
                padding: 20px 10px;
                min-height: 70px;
            }
            
            .question-text {
                font-size: 2rem;
            }
            
            .answers-grid {
                grid-template-columns: 1fr;
            }
        }

        .hidden {
            display: none !important;
        }

        /* Message overlay */
        .message-overlay {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-family: 'Fredoka One', cursive;
            font-size: 4rem;
            font-weight: 900;
            z-index: 10000;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.8);
            animation: messageAppear 0.5s ease;
        }

        @keyframes messageAppear {
            from { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .message-overlay.correct { color: #4caf50; }
        .message-overlay.wrong { color: #f44336; }
        .message-overlay.timeout { color: #ff9800; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="jeopardy-header">
            <h1 class="jeopardy-logo">JEOPARDY!</h1>
            <p class="jeopardy-subtitle">üïå EDISI MAULID NABI MUHAMMAD SAW üïå</p>
        </div>

        <!-- Setup Screen -->
        <div id="setupScreen" class="setup-screen">
            <h2 class="setup-title">üéØ PERSIAPAN JEOPARDY üéØ</h2>
            
            <div class="team-setup">
                <div class="team-count-selector">
                    <label>üë• Jumlah Tim:</label>
                    <select id="teamCount" onchange="updateTeamSetup()">
                        <option value="2">2 Tim</option>
                        <option value="3" selected>3 Tim</option>
                        <option value="4">4 Tim</option>
                        <option value="5">5 Tim</option>
                    </select>
                </div>

                <div class="teams-grid" id="teamsGrid">
                    <!-- Team inputs will be generated here -->
                </div>
            </div>

            <button class="jeopardy-btn" onclick="startJeopardy()">
                üöÄ MULAI JEOPARDY!
            </button>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="hidden">
            <!-- Scoreboard -->
            <div class="scoreboard">
                <h3 class="scoreboard-title">üìä PAPAN SKOR</h3>
                <div class="teams-scores" id="teamsScores">
                    <!-- Team scores will be populated here -->
                </div>
            </div>

            <!-- Jeopardy Board -->
            <div class="jeopardy-board">
                <div class="categories-header" id="categoriesHeader">
                    <!-- Categories will be populated here -->
                </div>
                <div class="questions-board" id="questionsBoard">
                    <!-- Question tiles will be populated here -->
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="jeopardy-btn secondary" onclick="endJeopardy()">
                    üèÅ SELESAI JEOPARDY
                </button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="results-screen hidden">
            <div class="winner-announcement">
                <h2 class="winner-title" id="winnerTitle">üèÜ JUARA JEOPARDY! üèÜ</h2>
            </div>

            <div class="final-scores" id="finalScores">
                <!-- Final scores will be populated here -->
            </div>

            <div style="margin: 40px 0; font-size: 1.3rem; line-height: 1.6;">
                <p>üåü Semoga ilmu yang telah dipelajari bermanfaat</p>
                <p>dan menjadi amal jariyah bagi kita semua üåü</p>
                <p style="margin-top: 20px; font-weight: 900; font-size: 1.5rem;">ÿ®ÿßÿ±ŸÉ ÿßŸÑŸÑŸá ŸÅŸäŸÉŸÖ</p>
            </div>

            <button class="jeopardy-btn" onclick="restartJeopardy()">
                üîÑ JEOPARDY BARU
            </button>
        </div>
    </div>

    <!-- Question Modal (will be created dynamically) -->

    <script>
        // Game state
        let teams = [];
        let currentTeam = 0;
        let gameActive = false;
        let answeredQuestions = new Set();
        let timeLeft = 30;
        let timer;

        // Jeopardy categories and questions
        const jeopardyData = {
            "SEJARAH NABI": [
                { question: "Siapa nama ayah Nabi Muhammad SAW?", answers: ["Abdullah", "Abu Thalib", "Abdul Muthalib", "Abu Bakar"], correct: 0, points: 100 },
                { question: "Di kota mana Nabi Muhammad SAW dilahirkan?", answers: ["Madinah", "Makkah", "Thaif", "Yaman"], correct: 1, points: 200 },
                { question: "Siapa nama ibu Nabi Muhammad SAW?", answers: ["Khadijah", "Aisyah", "Aminah", "Fatimah"], correct: 2, points: 300 },
                { question: "Pada usia berapa Nabi Muhammad SAW diangkat menjadi Rasul?", answers: ["35 tahun", "40 tahun", "45 tahun", "50 tahun"], correct: 1, points: 400 },
                { question: "Siapa yang merawat Nabi Muhammad SAW setelah ibunya wafat?", answers: ["Abu Thalib", "Abdul Muthalib", "Halimah As-Sa'diyah", "Abu Bakar"], correct: 1, points: 500 }
            ],
            "AL-QURAN": [
                { question: "Berapa jumlah surat dalam Al-Qur'an?", answers: ["112", "113", "114", "115"], correct: 2, points: 100 },
                { question: "Apa nama surat pertama dalam Al-Qur'an?", answers: ["Al-Baqarah", "Al-Fatihah", "An-Nas", "Al-Falaq"], correct: 1, points: 200 },
                { question: "Surat Al-Fatihah terdiri dari berapa ayat?", answers: ["5 ayat", "6 ayat", "7 ayat", "8 ayat"], correct: 2, points: 300 },
                { question: "Apa nama surat terakhir dalam Al-Qur'an?", answers: ["Al-Falaq", "An-Nas", "Al-Ikhlas", "Al-Kafirun"], correct: 1, points: 400 },
                { question: "Surat apa yang disebut 'Ummul Qur'an'?", answers: ["Al-Baqarah", "Al-Fatihah", "Al-Ikhlas", "Yasin"], correct: 1, points: 500 }
            ],
            "SAHABAT": [
                { question: "Siapa sahabat pertama yang masuk Islam?", answers: ["Umar bin Khattab", "Utsman bin Affan", "Ali bin Abi Thalib", "Abu Bakar Ash-Shiddiq"], correct: 3, points: 100 },
                { question: "Siapa yang dijuluki 'Al-Faruq'?", answers: ["Abu Bakar", "Umar bin Khattab", "Utsman bin Affan", "Ali bin Abi Thalib"], correct: 1, points: 200 },
                { question: "Siapa yang dijuluki 'Dzun Nurayn'?", answers: ["Abu Bakar", "Umar bin Khattab", "Utsman bin Affan", "Ali bin Abi Thalib"], correct: 2, points: 300 },
                { question: "Siapa sahabat yang paling banyak meriwayatkan hadits?", answers: ["Abu Bakar", "Umar bin Khattab", "Abu Hurairah", "Ali bin Abi Thalib"], correct: 2, points: 400 },
                { question: "Siapa sahabat yang dijuluki 'Sayful Allah Al-Maslul'?", answers: ["Khalid bin Walid", "Sa'd bin Abi Waqqas", "Amr bin Ash", "Abu Ubaidah"], correct: 0, points: 500 }
            ],
            "RUKUN ISLAM": [
                { question: "Berapa jumlah rukun Islam?", answers: ["4", "5", "6", "7"], correct: 1, points: 100 },
                { question: "Apa rukun Islam yang pertama?", answers: ["Shalat", "Syahadat", "Zakat", "Puasa"], correct: 1, points: 200 },
                { question: "Berapa kali shalat wajib dalam sehari?", answers: ["3 kali", "4 kali", "5 kali", "6 kali"], correct: 2, points: 300 },
                { question: "Pada bulan apa umat Islam menjalankan puasa?", answers: ["Rajab", "Sya'ban", "Ramadhan", "Syawal"], correct: 2, points: 400 },
                { question: "Di kota mana umat Islam menunaikan ibadah haji?", answers: ["Madinah", "Makkah", "Yerusalem", "Baghdad"], correct: 1, points: 500 }
            ],
            "AKHLAK": [
                { question: "Apa sifat terpuji yang harus dimiliki seorang Muslim?", answers: ["Sombong", "Jujur", "Marah", "Iri"], correct: 1, points: 100 },
                { question: "Bagaimana cara berbakti kepada orang tua?", answers: ["Membantah", "Menuruti semua keinginan", "Berbuat baik dan patuh", "Mengabaikan"], correct: 2, points: 200 },
                { question: "Apa yang harus dilakukan ketika bertemu dengan orang lain?", answers: ["Mengabaikan", "Mengucapkan salam", "Berlari", "Bersembunyi"], correct: 1, points: 300 },
                { question: "Apa yang diajarkan Islam tentang bertetangga?", answers: ["Acuh tak acuh", "Berbuat baik", "Mengganggu", "Menghindari"], correct: 1, points: 400 },
                { question: "Bagaimana Islam mengajarkan tentang kebersihan?", answers: ["Tidak penting", "Sebagian dari iman", "Hanya untuk orang kaya", "Pilihan"], correct: 1, points: 500 }
            ]
        };

        // Default team names
        const defaultTeamNames = ['üåü Tim Sahabat', '‚≠ê Tim Tabi\'in', '‚ú® Tim Salafus Shalih', 'üéØ Tim Muhajirin', 'üèÜ Tim Anshar'];

        // Initialize team setup
        function updateTeamSetup() {
            const teamCount = parseInt(document.getElementById('teamCount').value);
            const teamsGrid = document.getElementById('teamsGrid');
            teamsGrid.innerHTML = '';

            for (let i = 0; i < teamCount; i++) {
                const teamCard = document.createElement('div');
                teamCard.className = 'team-input-card';
                teamCard.innerHTML = `
                    <h3>üë• Tim ${i + 1}</h3>
                    <input type="text" class="team-input" id="team${i + 1}Name" 
                           placeholder="Nama Tim ${i + 1}" value="${defaultTeamNames[i] || `Tim ${i + 1}`}">
                `;
                teamsGrid.appendChild(teamCard);
            }
        }

        // Start Jeopardy
        function startJeopardy() {
            const teamCount = parseInt(document.getElementById('teamCount').value);
            teams = [];
            
            for (let i = 0; i < teamCount; i++) {
                const teamName = document.getElementById(`team${i + 1}Name`).value || `Tim ${i + 1}`;
                teams.push({ name: teamName, score: 0 });
            }

            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            currentTeam = 0;
            gameActive = true;
            answeredQuestions.clear();
            
            createJeopardyBoard();
            updateScoreboard();
            
            showMessage('üéâ JEOPARDY DIMULAI! üéâ', 'correct');
        }

        // Create Jeopardy board
        function createJeopardyBoard() {
            const categoriesHeader = document.getElementById('categoriesHeader');
            const questionsBoard = document.getElementById('questionsBoard');
            
            categoriesHeader.innerHTML = '';
            questionsBoard.innerHTML = '';
            
            const categories = Object.keys(jeopardyData);
            
            // Create category headers
            categories.forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category-title';
                categoryDiv.textContent = category;
                categoriesHeader.appendChild(categoryDiv);
            });
            
            // Create question tiles
            for (let row = 0; row < 5; row++) {
                categories.forEach((category, colIndex) => {
                    const question = jeopardyData[category][row];
                    const questionTile = document.createElement('div');
                    questionTile.className = 'question-tile';
                    questionTile.textContent = `$${question.points}`;
                    questionTile.onclick = () => selectQuestion(category, row);
                    questionTile.id = `tile-${colIndex}-${row}`;
                    questionsBoard.appendChild(questionTile);
                });
            }
        }

        // Select question
        function selectQuestion(category, questionIndex) {
            const tileId = `tile-${Object.keys(jeopardyData).indexOf(category)}-${questionIndex}`;
            
            if (answeredQuestions.has(tileId)) {
                showMessage('‚ùå Soal sudah dijawab!', 'wrong');
                return;
            }
            
            const question = jeopardyData[category][questionIndex];
            showQuestionModal(question, category, tileId);
        }

        // Show question modal
        function showQuestionModal(question, category, tileId) {
            const modal = document.createElement('div');
            modal.className = 'question-modal';
            modal.id = 'questionModal';
            
            modal.innerHTML = `
                <div class="question-content">
                    <div class="question-header">
                        <div class="question-info">${category} - $${question.points}</div>
                        <div class="timer-display" id="timerDisplay">30</div>
                    </div>
                    <div class="question-text">${question.question}</div>
                    <div class="answers-grid" id="answersGrid">
                        ${question.answers.map((answer, index) => 
                            `<div class="answer-option" onclick="selectAnswer(${index}, '${tileId}', ${question.points}, ${question.correct})">${answer}</div>`
                        ).join('')}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Start timer
            timeLeft = 30;
            timer = setInterval(() => {
                timeLeft--;
                const timerDisplay = document.getElementById('timerDisplay');
                if (timerDisplay) {
                    timerDisplay.textContent = timeLeft;
                    if (timeLeft <= 10) {
                        timerDisplay.classList.add('warning');
                    }
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    timeoutQuestion(tileId);
                }
            }, 1000);
        }

        // Select answer
        function selectAnswer(selectedIndex, tileId, points, correctIndex) {
            clearInterval(timer);
            
            const answers = document.querySelectorAll('.answer-option');
            answers.forEach(answer => answer.style.pointerEvents = 'none');
            
            if (selectedIndex === correctIndex) {
                answers[selectedIndex].classList.add('correct');
                teams[currentTeam].score += points;
                showMessage('üéâ BENAR! üéâ', 'correct');
                
                setTimeout(() => {
                    closeQuestionModal();
                    markQuestionAnswered(tileId);
                    updateScoreboard();
                    nextTeam();
                }, 2000);
            } else {
                answers[selectedIndex].classList.add('wrong');
                setTimeout(() => {
                    answers[correctIndex].classList.add('correct');
                }, 500);
                
                showMessage('‚ùå SALAH!', 'wrong');
                
                setTimeout(() => {
                    closeQuestionModal();
                    markQuestionAnswered(tileId);
                    updateScoreboard();
                    nextTeam();
                }, 3000);
            }
        }

        // Timeout question
        function timeoutQuestion(tileId) {
            const answers = document.querySelectorAll('.answer-option');
            answers.forEach(answer => answer.style.pointerEvents = 'none');
            
            showMessage('‚è∞ WAKTU HABIS!', 'timeout');
            
            setTimeout(() => {
                closeQuestionModal();
                markQuestionAnswered(tileId);
                nextTeam();
            }, 2500);
        }

        // Close question modal
        function closeQuestionModal() {
            const modal = document.getElementById('questionModal');
            if (modal) {
                modal.remove();
            }
        }

        // Mark question as answered
        function markQuestionAnswered(tileId) {
            answeredQuestions.add(tileId);
            const tile = document.getElementById(tileId);
            if (tile) {
                tile.classList.add('answered');
                tile.onclick = null;
                tile.textContent = '‚úì';
            }
            
            // Check if all questions are answered
            if (answeredQuestions.size >= 25) {
                setTimeout(() => endJeopardy(), 1000);
            }
        }

        // Next team
        function nextTeam() {
            currentTeam = (currentTeam + 1) % teams.length;
            updateScoreboard();
        }

        // Update scoreboard
        function updateScoreboard() {
            const teamsScores = document.getElementById('teamsScores');
            teamsScores.innerHTML = '';
            
            teams.forEach((team, index) => {
                const scoreCard = document.createElement('div');
                scoreCard.className = `team-score-card ${index === currentTeam ? 'active' : ''}`;
                scoreCard.innerHTML = `
                    <div class="team-name">${team.name}</div>
                    <div class="team-score">$${team.score}</div>
                `;
                teamsScores.appendChild(scoreCard);
            });
        }

        // End Jeopardy
        function endJeopardy() {
            gameActive = false;
            clearInterval(timer);
            
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            const sortedTeams = [...teams].sort((a, b) => b.score - a.score);
            const winner = sortedTeams[0];
            
            document.getElementById('winnerTitle').textContent = `üèÜ ${winner.name} JUARA! üèÜ`;
            
            const finalScores = document.getElementById('finalScores');
            finalScores.innerHTML = '';
            
            sortedTeams.forEach((team, index) => {
                const scoreCard = document.createElement('div');
                scoreCard.className = `final-score-card ${index === 0 ? 'winner' : ''}`;
                scoreCard.innerHTML = `
                    <div class="final-team-name">${index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : 'üèÖ'} ${team.name}</div>
                    <div class="final-team-score">$${team.score}</div>
                `;
                finalScores.appendChild(scoreCard);
            });
        }

        // Restart Jeopardy
        function restartJeopardy() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.remove('hidden');
            
            // Reset game state
            teams = [];
            currentTeam = 0;
            gameActive = false;
            answeredQuestions.clear();
            clearInterval(timer);
            
            updateTeamSetup();
        }

        // Show message
        function showMessage(message, type) {
            const messageEl = document.createElement('div');
            messageEl.className = `message-overlay ${type}`;
            messageEl.textContent = message;
            document.body.appendChild(messageEl);
            
            setTimeout(() => {
                if (messageEl.parentNode) {
                    messageEl.remove();
                }
            }, 2000);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateTeamSetup();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97c6fb03657b3231',t:'MTc1NzQyNDAwMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
